{"version":3,"file":"js/app.ba8c1d28.js","mappings":"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","sources":["webpack://web/./src/App.vue?9802","webpack://web/./src/App.vue","webpack://web/./src/component/bottomLayer/object-creator.ts","webpack://web/./src/component/bottomLayer/BottomLayer.vue","webpack://web/./src/component/bottomLayer/BottomLayer.vue?4f23","webpack://web/./src/component/bottomLayer/BottomLayer.vue?8fc5","webpack://web/./src/App.vue?7ccd","webpack://web/./src/main.ts","webpack://web/webpack/bootstrap","webpack://web/webpack/runtime/chunk loaded","webpack://web/webpack/runtime/compat get default export","webpack://web/webpack/runtime/define property getters","webpack://web/webpack/runtime/global","webpack://web/webpack/runtime/hasOwnProperty shorthand","webpack://web/webpack/runtime/jsonp chunk loading","webpack://web/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_BottomLayer = _resolveComponent(\"BottomLayer\")!\n\n  return (_openBlock(), _createBlock(_component_BottomLayer))\n}","<template>\n  <BottomLayer />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport BottomLayer from \"@/component/bottomLayer/BottomLayer.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: { BottomLayer },\n});\n</script>\n\n<style>\n#ve-app {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import { Camera } from \"three/src/cameras/Camera\";\nimport * as THREE from \"three\";\nimport { Vector2, Vector3 } from \"three\";\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\n\nexport class ObjectCreator {\n  createCamera(view: Vector2, pos: Vector3): Camera {\n    const aspect = view.x / view.y;\n    const frustumSize = 10;\n\n    const camera = new THREE.OrthographicCamera(\n      (frustumSize * aspect) / -2,\n      (frustumSize * aspect) / 2,\n      frustumSize / 2,\n      frustumSize / -2,\n      0.1,\n      1000\n    );\n\n    camera.position.set(pos.x, pos.y, pos.z);\n    camera.lookAt(0, 0, 0);\n\n    return camera;\n  }\n\n  createRenderer(view: Vector2): THREE.WebGLRenderer {\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      alpha: true,\n    });\n    renderer.setSize(view.x, view.y);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    return renderer;\n  }\n\n  addLight(scene: THREE.Scene) {\n    const ambientLight = new THREE.AmbientLight(0xcccccc, 0.2);\n    scene.add(ambientLight);\n\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 1.25);\n    directionalLight.position.set(-1.25, 5.5, 5);\n    directionalLight.lookAt(0, 0, 0);\n    directionalLight.castShadow = true;\n\n    directionalLight.shadow.mapSize.width = 2048;\n    directionalLight.shadow.mapSize.height = 2048;\n    directionalLight.shadow.camera.left = -12;\n    directionalLight.shadow.camera.right = 12;\n    directionalLight.shadow.camera.top = 12;\n    directionalLight.shadow.camera.bottom = -12;\n    directionalLight.shadow.camera.near = 1;\n    directionalLight.shadow.camera.far = 30;\n    scene.add(directionalLight);\n\n    const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.35);\n    directionalLight2.position.set(2.5, 5.5, -2.5);\n    directionalLight2.lookAt(0, 0, 0);\n    scene.add(directionalLight2);\n  }\n\n  createFBX(type: string, pos: THREE.Vector3): Promise<THREE.Group> {\n    return new Promise((resolve, reject) => {\n      const loader = new FBXLoader();\n      const textureLoader = new THREE.TextureLoader();\n\n      const baseTexture = textureLoader.load(\"./model/basetexture.jpg\");\n      const floorTexture = textureLoader.load(\"./model/floortexture.jpg\");\n      const unchangeTexture = textureLoader.load(\"./model/unchangetexture.jpg\");\n\n      loader.load(\n        \"./model/Area_\" + type + \".fbx\",\n        (object) => {\n          object.traverse((child) => {\n            child.castShadow = true;\n            child.receiveShadow = true;\n\n            if (child instanceof THREE.Mesh) {\n              const materials = Array.isArray(child.material)\n                ? child.material\n                : [child.material];\n\n              const newMaterials = materials.map((mat) => {\n                if (mat.name === \"lambert1\") {\n                  return new THREE.MeshStandardMaterial({\n                    color: 0xffffff,\n                    map: floorTexture,\n                  });\n                }\n\n                if (mat.name === \"lambert2\") {\n                  return new THREE.MeshStandardMaterial({\n                    map: unchangeTexture,\n                  });\n                }\n\n                return new THREE.MeshStandardMaterial({\n                  color: 0xffffff,\n                  map: baseTexture,\n                });\n              });\n\n              child.material = Array.isArray(child.material)\n                ? newMaterials\n                : newMaterials[0];\n            }\n          });\n\n          object.position.set(pos.x, pos.y, pos.z);\n\n          const scale = 0.075;\n          object.scale.set(scale, scale, scale);\n\n          object.userData.type = type;\n\n          // 成功載入後 resolve\n          resolve(object);\n        },\n        undefined, // onProgress callback (可選)\n        (error) => {\n          // 載入失敗時 reject\n          console.error(\"載入 FBX 時發生錯誤:\", error);\n          reject(error);\n        }\n      );\n    });\n  }\n}\n","<template>\n  <div ref=\"container\" class=\"container\"></div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\nimport * as THREE from \"three\";\nimport { Vector2, Vector3 } from \"three\";\nimport { ObjectCreator } from \"@/component/bottomLayer/object-creator\";\nimport gsap from \"gsap\";\n\n// 定義類型\ninterface AreaCameraConfig {\n  position: Vector3;\n  lookAt: Vector3;\n}\n\ninterface AreaConfig {\n  type: string;\n  position: Vector3;\n  cameraPosition: Vector3;\n}\n\nconst container = ref<HTMLDivElement | null>(null);\n\nlet scene: THREE.Scene;\nlet camera: THREE.Camera;\nlet renderer: THREE.WebGLRenderer;\n\nlet raycaster: THREE.Raycaster;\nlet mouse: THREE.Vector2;\nlet clickableObjects: THREE.Object3D[] = []; // 儲存可點擊的物件\n\n// 相機視差效果相關變數\nlet targetCameraPosition: Vector3 = new Vector3(5.5, 6.5, 10);\nlet lockedCameraPosition: Vector3 = new Vector3(5.5, 6.5, 10); // 鎖定時的基礎相機位置\nlet currentCameraOffset = { x: 0, y: 0 };\nconst parallaxStrength = 0.5; // 自由模式視差強度\nconst lockedParallaxStrength = 0.3; // 鎖定模式視差強度 (較小)\nconst smoothness = 0.1; // 平滑度,越小越平滑\n\n// 相機焦點相關變數\nlet isLocked = false; // 是否鎖定在某個 area\nlet currentLookAt: Vector3 = new Vector3(0, 0, 0); // 當前看向的目標點\nlet isIntroPlaying = true; // 是否正在播放開場動畫\n\n// 開場動畫的起始位置\nconst introCameraPosition: Vector3 = new Vector3(5.5, 15, 10); // 從更高的位置開始\nconst introLookAt: Vector3 = new Vector3(0, 5, 2.5); // 開始時看向較高的位置\n\n// 統一配置所有 area 的資訊\nconst areaConfigs: AreaConfig[] = [\n  {\n    type: \"A\",\n    position: new Vector3(-2.5, 0, -1.5),\n    cameraPosition: new Vector3(-0.5, 4.5, 7.5),\n  },\n  {\n    type: \"B\",\n    position: new Vector3(-2.5, 0, 4.5),\n    cameraPosition: new Vector3(-2.5, 6.5, 12),\n  },\n  {\n    type: \"C\",\n    position: new Vector3(4, 0, -1.5),\n    cameraPosition: new Vector3(4, 6.5, 8),\n  },\n  {\n    type: \"D\",\n    position: new Vector3(5, 0, 4.5),\n    cameraPosition: new Vector3(5, 6.5, 12),\n  },\n];\n\n// 從配置生成相機位置映射\nconst areaCameraPositions: Record<string, AreaCameraConfig> =\n  areaConfigs.reduce((acc, config) => {\n    acc[config.type] = {\n      position: config.cameraPosition,\n      lookAt: config.position, // 直接使用 area 的位置\n    };\n    return acc;\n  }, {} as Record<string, AreaCameraConfig>);\n\nonMounted(() => {\n  initThree();\n  update();\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", onWindowResize);\n  window.removeEventListener(\"keydown\", onKeyDown);\n  container.value?.removeEventListener(\"click\", onMouseClick);\n  container.value?.removeEventListener(\"mousemove\", onMouseMove);\n  if (renderer) {\n    renderer.dispose();\n  }\n\n  // 清除所有 GSAP 動畫\n  gsap.killTweensOf(camera.position);\n  gsap.killTweensOf(currentLookAt);\n});\n\nconst initThree = async () => {\n  if (!container.value) return;\n\n  // 初始化 Raycaster 和 Mouse\n  raycaster = new THREE.Raycaster();\n  mouse = new THREE.Vector2();\n\n  // 場景\n  scene = new THREE.Scene();\n  scene.background = new THREE.Color(0xf0f4f8);\n\n  // 物件生成器\n  let objectCreator = new ObjectCreator();\n  let view = new Vector2(\n    container.value.clientWidth,\n    container.value.clientHeight\n  );\n\n  // 相機 - 從開場位置開始\n  camera = objectCreator.createCamera(view, introCameraPosition);\n\n  // 設定初始 lookAt\n  currentLookAt.copy(introLookAt);\n\n  // 渲染器\n  renderer = objectCreator.createRenderer(view);\n  container.value.appendChild(renderer.domElement);\n\n  // 打光\n  objectCreator.addLight(scene);\n\n  // 批量創建所有 areas\n  await loadAllAreas(objectCreator);\n\n  // 播放開場動畫\n  playIntroAnimation();\n\n  // 添加事件監聽\n  window.addEventListener(\"resize\", onWindowResize);\n  window.addEventListener(\"keydown\", onKeyDown);\n  container.value.addEventListener(\"click\", onMouseClick);\n  container.value.addEventListener(\"mousemove\", onMouseMove);\n};\n\n// 開場動畫\nconst playIntroAnimation = () => {\n  isIntroPlaying = true;\n\n  // 相機位置動畫\n  gsap.to(camera.position, {\n    x: targetCameraPosition.x,\n    y: targetCameraPosition.y,\n    z: targetCameraPosition.z,\n    duration: 2, // 動畫時長\n    ease: \"power2.out\", // 緩動效果\n    onComplete: () => {\n      isIntroPlaying = false; // 動畫完成後允許互動\n    },\n  });\n\n  // lookAt 動畫\n  gsap.to(currentLookAt, {\n    x: 0,\n    y: 0,\n    z: 0,\n    duration: 2.5,\n    ease: \"power2.out\",\n  });\n};\n\n// 批量載入所有 areas\nconst loadAllAreas = async (objectCreator: ObjectCreator) => {\n  const areaPromises = areaConfigs.map((config) =>\n    objectCreator.createFBX(config.type, config.position)\n  );\n\n  const areas = await Promise.all(areaPromises);\n\n  areas.forEach((area) => {\n    scene.add(area);\n    clickableObjects.push(area);\n  });\n};\n\nconst onMouseMove = (event: MouseEvent) => {\n  if (!container.value) return;\n\n  // 開場動畫期間不響應滑鼠移動\n  if (isIntroPlaying) return;\n\n  // 計算滑鼠位置 (-1 到 +1)\n  const rect = container.value.getBoundingClientRect();\n  const mouseX = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n  const mouseY = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n  // 根據鎖定狀態使用不同的視差強度\n  const strength = isLocked ? lockedParallaxStrength : parallaxStrength;\n\n  // 計算目標偏移量\n  currentCameraOffset.x = mouseX * strength;\n  currentCameraOffset.y = mouseY * strength;\n};\n\nconst onMouseClick = (event: MouseEvent) => {\n  if (!container.value) return;\n\n  // 開場動畫期間不響應點擊\n  if (isIntroPlaying) return;\n\n  // 計算滑鼠在 three.js 正規化座標系統中的位置 (-1 到 +1)\n  const rect = container.value.getBoundingClientRect();\n  mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n  mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n  // 更新 raycaster\n  raycaster.setFromCamera(mouse, camera);\n\n  // 檢測射線與物件的交點\n  const intersects = raycaster.intersectObjects(clickableObjects, true);\n\n  if (intersects.length > 0) {\n    // 找到最上層的父物件(FBX 模型)\n    let clickedObject = intersects[0].object;\n    while (clickedObject.parent && !clickedObject.userData.type) {\n      clickedObject = clickedObject.parent;\n    }\n\n    // 處理點擊事件\n    handleObjectClick(clickedObject);\n  }\n};\n\nconst handleObjectClick = (object: THREE.Object3D) => {\n  const areaType = object.userData.type as string;\n  console.log(\"點擊了:\", areaType);\n\n  // 鎖定到該 area\n  lockCameraToArea(areaType);\n};\n\nconst lockCameraToArea = (areaType: string) => {\n  const cameraConfig = areaCameraPositions[areaType];\n\n  if (!cameraConfig) {\n    console.warn(`找不到 area ${areaType} 的相機配置`);\n    return;\n  }\n\n  // 設定鎖定狀態\n  isLocked = true;\n\n  // 儲存鎖定時的基礎相機位置\n  lockedCameraPosition = cameraConfig.position.clone();\n\n  // 停止之前的動畫\n  gsap.killTweensOf(camera.position);\n  gsap.killTweensOf(currentLookAt);\n\n  // 使用 GSAP 動畫相機位置\n  gsap.to(camera.position, {\n    x: cameraConfig.position.x,\n    y: cameraConfig.position.y,\n    z: cameraConfig.position.z,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  // 同時動畫 lookAt 目標 (使用 area 的位置)\n  gsap.to(currentLookAt, {\n    x: cameraConfig.lookAt.x,\n    y: cameraConfig.lookAt.y,\n    z: cameraConfig.lookAt.z,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  console.log(`相機鎖定到 Area ${areaType}`);\n};\n\nconst unlockCamera = () => {\n  isLocked = false;\n\n  // 停止之前的動畫\n  gsap.killTweensOf(camera.position);\n  gsap.killTweensOf(currentLookAt);\n\n  // 使用 GSAP 動畫回到初始位置\n  gsap.to(camera.position, {\n    x: targetCameraPosition.x,\n    y: targetCameraPosition.y,\n    z: targetCameraPosition.z,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  // 動畫 lookAt 回到中心點\n  gsap.to(currentLookAt, {\n    x: 0,\n    y: 0,\n    z: 0,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  console.log(\"相機解鎖,恢復到初始視角\");\n};\n\n// 按 ESC 鍵解鎖相機\nconst onKeyDown = (event: KeyboardEvent) => {\n  if (event.key === \"Escape\" && isLocked) {\n    unlockCamera();\n  }\n};\n\nconst update = () => {\n  requestAnimationFrame(update);\n\n  // 開場動畫期間不應用視差效果\n  if (!isIntroPlaying) {\n    // 應用視差效果 (自由模式和鎖定模式都適用)\n    const basePosition = isLocked ? lockedCameraPosition : targetCameraPosition;\n    const newX = basePosition.x + currentCameraOffset.x;\n    const newY = basePosition.y + currentCameraOffset.y;\n\n    camera.position.x += (newX - camera.position.x) * smoothness;\n    camera.position.y += (newY - camera.position.y) * smoothness;\n  }\n\n  // 始終更新 lookAt\n  camera.lookAt(currentLookAt);\n  renderer.render(scene, camera);\n};\n\n// 響應式調整\nconst onWindowResize = () => {\n  if (!container.value) return;\n\n  const aspect = container.value.clientWidth / container.value.clientHeight;\n  const frustumSize = 10;\n\n  if (camera instanceof THREE.OrthographicCamera) {\n    camera.left = (frustumSize * aspect) / -2;\n    camera.right = (frustumSize * aspect) / 2;\n    camera.top = frustumSize / 2;\n    camera.bottom = frustumSize / -2;\n\n    camera.updateProjectionMatrix();\n  }\n\n  renderer.setSize(container.value.clientWidth, container.value.clientHeight);\n};\n</script>\n\n<style scoped>\n.container {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\nimport * as THREE from \"three\";\nimport { Vector2, Vector3 } from \"three\";\nimport { ObjectCreator } from \"@/component/bottomLayer/object-creator\";\nimport gsap from \"gsap\";\n\n// 定義類型\ninterface AreaCameraConfig {\n  position: Vector3;\n  lookAt: Vector3;\n}\n\ninterface AreaConfig {\n  type: string;\n  position: Vector3;\n  cameraPosition: Vector3;\n}\n\nconst parallaxStrength = 0.5; // 自由模式視差強度\nconst lockedParallaxStrength = 0.3; // 鎖定模式視差強度 (較小)\nconst smoothness = 0.1; // 平滑度,越小越平滑\n\n// 相機焦點相關變數\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'BottomLayer',\n  setup(__props) {\n\nconst container = ref<HTMLDivElement | null>(null);\n\nlet scene: THREE.Scene;\nlet camera: THREE.Camera;\nlet renderer: THREE.WebGLRenderer;\n\nlet raycaster: THREE.Raycaster;\nlet mouse: THREE.Vector2;\nlet clickableObjects: THREE.Object3D[] = []; // 儲存可點擊的物件\n\n// 相機視差效果相關變數\nlet targetCameraPosition: Vector3 = new Vector3(5.5, 6.5, 10);\nlet lockedCameraPosition: Vector3 = new Vector3(5.5, 6.5, 10); // 鎖定時的基礎相機位置\nlet currentCameraOffset = { x: 0, y: 0 };\nlet isLocked = false; // 是否鎖定在某個 area\nlet currentLookAt: Vector3 = new Vector3(0, 0, 0); // 當前看向的目標點\nlet isIntroPlaying = true; // 是否正在播放開場動畫\n\n// 開場動畫的起始位置\nconst introCameraPosition: Vector3 = new Vector3(5.5, 15, 10); // 從更高的位置開始\nconst introLookAt: Vector3 = new Vector3(0, 5, 2.5); // 開始時看向較高的位置\n\n// 統一配置所有 area 的資訊\nconst areaConfigs: AreaConfig[] = [\n  {\n    type: \"A\",\n    position: new Vector3(-2.5, 0, -1.5),\n    cameraPosition: new Vector3(-0.5, 4.5, 7.5),\n  },\n  {\n    type: \"B\",\n    position: new Vector3(-2.5, 0, 4.5),\n    cameraPosition: new Vector3(-2.5, 6.5, 12),\n  },\n  {\n    type: \"C\",\n    position: new Vector3(4, 0, -1.5),\n    cameraPosition: new Vector3(4, 6.5, 8),\n  },\n  {\n    type: \"D\",\n    position: new Vector3(5, 0, 4.5),\n    cameraPosition: new Vector3(5, 6.5, 12),\n  },\n];\n\n// 從配置生成相機位置映射\nconst areaCameraPositions: Record<string, AreaCameraConfig> =\n  areaConfigs.reduce((acc, config) => {\n    acc[config.type] = {\n      position: config.cameraPosition,\n      lookAt: config.position, // 直接使用 area 的位置\n    };\n    return acc;\n  }, {} as Record<string, AreaCameraConfig>);\n\nonMounted(() => {\n  initThree();\n  update();\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", onWindowResize);\n  window.removeEventListener(\"keydown\", onKeyDown);\n  container.value?.removeEventListener(\"click\", onMouseClick);\n  container.value?.removeEventListener(\"mousemove\", onMouseMove);\n  if (renderer) {\n    renderer.dispose();\n  }\n\n  // 清除所有 GSAP 動畫\n  gsap.killTweensOf(camera.position);\n  gsap.killTweensOf(currentLookAt);\n});\n\nconst initThree = async () => {\n  if (!container.value) return;\n\n  // 初始化 Raycaster 和 Mouse\n  raycaster = new THREE.Raycaster();\n  mouse = new THREE.Vector2();\n\n  // 場景\n  scene = new THREE.Scene();\n  scene.background = new THREE.Color(0xf0f4f8);\n\n  // 物件生成器\n  let objectCreator = new ObjectCreator();\n  let view = new Vector2(\n    container.value.clientWidth,\n    container.value.clientHeight\n  );\n\n  // 相機 - 從開場位置開始\n  camera = objectCreator.createCamera(view, introCameraPosition);\n\n  // 設定初始 lookAt\n  currentLookAt.copy(introLookAt);\n\n  // 渲染器\n  renderer = objectCreator.createRenderer(view);\n  container.value.appendChild(renderer.domElement);\n\n  // 打光\n  objectCreator.addLight(scene);\n\n  // 批量創建所有 areas\n  await loadAllAreas(objectCreator);\n\n  // 播放開場動畫\n  playIntroAnimation();\n\n  // 添加事件監聽\n  window.addEventListener(\"resize\", onWindowResize);\n  window.addEventListener(\"keydown\", onKeyDown);\n  container.value.addEventListener(\"click\", onMouseClick);\n  container.value.addEventListener(\"mousemove\", onMouseMove);\n};\n\n// 開場動畫\nconst playIntroAnimation = () => {\n  isIntroPlaying = true;\n\n  // 相機位置動畫\n  gsap.to(camera.position, {\n    x: targetCameraPosition.x,\n    y: targetCameraPosition.y,\n    z: targetCameraPosition.z,\n    duration: 2, // 動畫時長\n    ease: \"power2.out\", // 緩動效果\n    onComplete: () => {\n      isIntroPlaying = false; // 動畫完成後允許互動\n    },\n  });\n\n  // lookAt 動畫\n  gsap.to(currentLookAt, {\n    x: 0,\n    y: 0,\n    z: 0,\n    duration: 2.5,\n    ease: \"power2.out\",\n  });\n};\n\n// 批量載入所有 areas\nconst loadAllAreas = async (objectCreator: ObjectCreator) => {\n  const areaPromises = areaConfigs.map((config) =>\n    objectCreator.createFBX(config.type, config.position)\n  );\n\n  const areas = await Promise.all(areaPromises);\n\n  areas.forEach((area) => {\n    scene.add(area);\n    clickableObjects.push(area);\n  });\n};\n\nconst onMouseMove = (event: MouseEvent) => {\n  if (!container.value) return;\n\n  // 開場動畫期間不響應滑鼠移動\n  if (isIntroPlaying) return;\n\n  // 計算滑鼠位置 (-1 到 +1)\n  const rect = container.value.getBoundingClientRect();\n  const mouseX = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n  const mouseY = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n  // 根據鎖定狀態使用不同的視差強度\n  const strength = isLocked ? lockedParallaxStrength : parallaxStrength;\n\n  // 計算目標偏移量\n  currentCameraOffset.x = mouseX * strength;\n  currentCameraOffset.y = mouseY * strength;\n};\n\nconst onMouseClick = (event: MouseEvent) => {\n  if (!container.value) return;\n\n  // 開場動畫期間不響應點擊\n  if (isIntroPlaying) return;\n\n  // 計算滑鼠在 three.js 正規化座標系統中的位置 (-1 到 +1)\n  const rect = container.value.getBoundingClientRect();\n  mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n  mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n  // 更新 raycaster\n  raycaster.setFromCamera(mouse, camera);\n\n  // 檢測射線與物件的交點\n  const intersects = raycaster.intersectObjects(clickableObjects, true);\n\n  if (intersects.length > 0) {\n    // 找到最上層的父物件(FBX 模型)\n    let clickedObject = intersects[0].object;\n    while (clickedObject.parent && !clickedObject.userData.type) {\n      clickedObject = clickedObject.parent;\n    }\n\n    // 處理點擊事件\n    handleObjectClick(clickedObject);\n  }\n};\n\nconst handleObjectClick = (object: THREE.Object3D) => {\n  const areaType = object.userData.type as string;\n  console.log(\"點擊了:\", areaType);\n\n  // 鎖定到該 area\n  lockCameraToArea(areaType);\n};\n\nconst lockCameraToArea = (areaType: string) => {\n  const cameraConfig = areaCameraPositions[areaType];\n\n  if (!cameraConfig) {\n    console.warn(`找不到 area ${areaType} 的相機配置`);\n    return;\n  }\n\n  // 設定鎖定狀態\n  isLocked = true;\n\n  // 儲存鎖定時的基礎相機位置\n  lockedCameraPosition = cameraConfig.position.clone();\n\n  // 停止之前的動畫\n  gsap.killTweensOf(camera.position);\n  gsap.killTweensOf(currentLookAt);\n\n  // 使用 GSAP 動畫相機位置\n  gsap.to(camera.position, {\n    x: cameraConfig.position.x,\n    y: cameraConfig.position.y,\n    z: cameraConfig.position.z,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  // 同時動畫 lookAt 目標 (使用 area 的位置)\n  gsap.to(currentLookAt, {\n    x: cameraConfig.lookAt.x,\n    y: cameraConfig.lookAt.y,\n    z: cameraConfig.lookAt.z,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  console.log(`相機鎖定到 Area ${areaType}`);\n};\n\nconst unlockCamera = () => {\n  isLocked = false;\n\n  // 停止之前的動畫\n  gsap.killTweensOf(camera.position);\n  gsap.killTweensOf(currentLookAt);\n\n  // 使用 GSAP 動畫回到初始位置\n  gsap.to(camera.position, {\n    x: targetCameraPosition.x,\n    y: targetCameraPosition.y,\n    z: targetCameraPosition.z,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  // 動畫 lookAt 回到中心點\n  gsap.to(currentLookAt, {\n    x: 0,\n    y: 0,\n    z: 0,\n    duration: 1,\n    ease: \"power2.inOut\",\n  });\n\n  console.log(\"相機解鎖,恢復到初始視角\");\n};\n\n// 按 ESC 鍵解鎖相機\nconst onKeyDown = (event: KeyboardEvent) => {\n  if (event.key === \"Escape\" && isLocked) {\n    unlockCamera();\n  }\n};\n\nconst update = () => {\n  requestAnimationFrame(update);\n\n  // 開場動畫期間不應用視差效果\n  if (!isIntroPlaying) {\n    // 應用視差效果 (自由模式和鎖定模式都適用)\n    const basePosition = isLocked ? lockedCameraPosition : targetCameraPosition;\n    const newX = basePosition.x + currentCameraOffset.x;\n    const newY = basePosition.y + currentCameraOffset.y;\n\n    camera.position.x += (newX - camera.position.x) * smoothness;\n    camera.position.y += (newY - camera.position.y) * smoothness;\n  }\n\n  // 始終更新 lookAt\n  camera.lookAt(currentLookAt);\n  renderer.render(scene, camera);\n};\n\n// 響應式調整\nconst onWindowResize = () => {\n  if (!container.value) return;\n\n  const aspect = container.value.clientWidth / container.value.clientHeight;\n  const frustumSize = 10;\n\n  if (camera instanceof THREE.OrthographicCamera) {\n    camera.left = (frustumSize * aspect) / -2;\n    camera.right = (frustumSize * aspect) / 2;\n    camera.top = frustumSize / 2;\n    camera.bottom = frustumSize / -2;\n\n    camera.updateProjectionMatrix();\n  }\n\n  renderer.setSize(container.value.clientWidth, container.value.clientHeight);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref_key: \"container\",\n    ref: container,\n    class: \"container\"\n  }, null, 512))\n}\n}\n\n})","import script from \"./BottomLayer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BottomLayer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BottomLayer.vue?vue&type=style&index=0&id=dad41d2a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dad41d2a\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=26602f0c&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=26602f0c&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\n\ncreateApp(App).mount(\"#ve-app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8490); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_BottomLayer","_resolveComponent","_openBlock","_createBlock","ObjectCreator","createCamera","view","pos","aspect","x","y","frustumSize","camera","THREE","position","set","z","lookAt","createRenderer","renderer","antialias","alpha","setSize","shadowMap","enabled","type","addLight","scene","ambientLight","add","directionalLight","castShadow","shadow","mapSize","width","height","left","right","top","bottom","near","far","directionalLight2","createFBX","Promise","resolve","reject","loader","FBXLoader","textureLoader","baseTexture","load","floorTexture","unchangeTexture","object","traverse","child","receiveShadow","materials","Array","isArray","material","newMaterials","map","mat","name","color","scale","userData","undefined","error","console","parallaxStrength","lockedParallaxStrength","smoothness","_defineComponent","__name","setup","__props","container","ref","raycaster","mouse","clickableObjects","targetCameraPosition","Vector3","lockedCameraPosition","currentCameraOffset","isLocked","currentLookAt","isIntroPlaying","introCameraPosition","introLookAt","areaConfigs","cameraPosition","areaCameraPositions","reduce","acc","config","onMounted","initThree","update","onBeforeUnmount","window","removeEventListener","onWindowResize","onKeyDown","value","onMouseClick","onMouseMove","dispose","gsap","killTweensOf","async","background","objectCreator","Vector2","clientWidth","clientHeight","copy","appendChild","domElement","loadAllAreas","playIntroAnimation","addEventListener","to","duration","ease","onComplete","areaPromises","areas","all","forEach","area","push","event","rect","getBoundingClientRect","mouseX","clientX","mouseY","clientY","strength","setFromCamera","intersects","intersectObjects","length","clickedObject","parent","handleObjectClick","areaType","log","lockCameraToArea","cameraConfig","clone","warn","unlockCamera","key","requestAnimationFrame","basePosition","newX","newY","updateProjectionMatrix","_createElementBlock","ref_key","class","__exports__","defineComponent","components","BottomLayer","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}